{"version":3,"file":"circuitBreaker.js","sourceRoot":"","sources":["../../src/utils/circuitBreaker.ts"],"names":[],"mappings":"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"}